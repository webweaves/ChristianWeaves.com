<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1
/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:composition template="/templates/template.xhtml">

		<ui:define name="content">
			<div class="container" style="text-align: center">
				<div class="article-container">
					<br/>
					<ui:repeat id="showArticles" var="article"
						value="#{articleController.latestArticles}">
						<div class="card" style="vertical-align: top;" 
							onclick="location.href='#{request.contextPath}/showArticle.faces?article=#{article.id}'">
							<div class="top-section">
								<div class="circular-border">
									<h:graphicImage value="data:image/png;base64,#{article.icon}"
										width="75"
										style="margin-left: 10px; margin-top: 10px;" />
								</div>
							</div>
							<svg class="svg-background" viewBox="0 0 600 600"> 
								<path class="blob" d="#{blobController.randomBlob}"/>
							</svg>
							<h2>#{article.title}</h2>
							<p>#{article.subtitle}</p>
						</div>
					</ui:repeat>
				</div>
			</div>
				
			<div class="card active" style="valign:top"/>

			<script type="text/javascript">
			function handleMouseover(e) {
			    document.querySelector(".active").classList.remove("active");
			    e.target.closest(".card").classList.add("active");
			}
			document.querySelectorAll(".card").forEach(card => card.addEventListener("mouseover", handleMouseover) );
		 	</script>
		</ui:define>
	</ui:composition>

</html>