<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1
/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Insert title here</title>
</head>
<h:body>
	<ui:composition template="templates/template.xhtml">
		<ui:define name="header">
			<div class="container">
				<h1>#{articleController.showArticle(param['article']).title}</h1>
				<p>#{articleController.showArticle(param['article']).subtitle}</p>
			</div>
    	</ui:define>
		<ui:define name="content">
			<h:form>
				<b:container>
	    			<p><h:outputText value="#{articleController.showArticle(param['article']).body}" escape="false"/></p>
	    		</b:container>
	    		<b:container>
		    		<br/>
		    		<p:commandButton action="#{articleController.editArticle}" value="Edit Article »" class="btn btn-primary" >
		    			<f:param name="articleId" value="#{param['article']}" />
		    		</p:commandButton>
		    		<p:commandButton 
		    			oncomplete="PF('dlg').show();"
		    			value="Archive Article »" class="btn btn-primary" >
		    		</p:commandButton>
		    		<br/><br/>	    		
    			</b:container>
    		</h:form>
    		
    		<p:dialog id="dlg" widgetVar="dlg" header="Delete the article" modal="true" resizable="false" minWidth="160">
                <h:form id="formDelteteArticle">
                    <h:outputText value="Sure? "/>
                    <p:commandButton value="Yes" 
                    	actionListener="#{articleController.archiveArticle}"
                        oncomplete="dlg.hide()">
                        <f:param name="articleId" value="#{param['article']}" />
                    </p:commandButton>
                    <p:commandButton value="No" onclick="dlg.hide();"/>
                </h:form>
            </p:dialog>
    	</ui:define>
	</ui:composition>
</h:body>
</html>